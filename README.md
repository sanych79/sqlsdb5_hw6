# ` Домашнее задание к занятию 12.8. «Резервное копирование баз данных» - Борисов Александр`

## Задание 1 Резервное копирование

### Кейс

### Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования.

### Необходимо описать, какие варианты резервного копирования подходят в случаях:

### 1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.
`В таком случае необходимо делать полное резрвное копирование каждодневно`

### 1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.
`В это случае необходимо использовать инкрементное бэкапирование (каждый час мы не сможем делать полную копию при всем желаении)`

### 1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.
`Реплика Master-Slave c применением ПО типа replmng`


## Задание 2 PostgreSQL

### 2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

`pg_dump -U user_name -W dbname > /tmp/db_backup.dump`

`pg_restore -d "postgresql://user_name:user_pass@server_ip:server_port/dbname" -Fc db_backup.dump`

### 2.1.* Возможно ли автоматизировать этот процесс? Если да, то как?
`Либо на на Баше либо на Шеле написать файлик с запуском pg_dump, далее забросить файлик .sh или .bat в chown или расписание в винде`


## Задание 2 MySQL

### 3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL.`

`При первом копировании`
` mysqldump --user=user_name --password=password db_name >  /tmp/db_backup.sql`

`При следующем инкриментном копировании`
` mysqldump --user=user_name --password=password --databases dbname > incremental_backup.sql`

### 3.1.* В каких случаях использование реплики будет давать преимущество по сравнению с обычным резервным копированием?
`Можно делать бэкапирование реплики а не мастера.`

